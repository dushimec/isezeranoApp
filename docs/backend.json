
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the Isezerano CMS application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the User entity."
        },
        "firstName": {
          "type": "string",
          "description": "The first name of the user."
        },
        "lastName": {
          "type": "string",
          "description": "The last name of the user."
        },
        "username": {
          "type": "string",
          "description": "The user's unique username."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "User's email address, used for authentication."
        },
        "profileImageUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL for the user's profile picture."
        },
        "role": {
          "type": "string",
          "description": "User's role within the system (SINGER, SECRETARY, DISCIPLINARIAN, ADMIN).",
          "enum": [
            "SINGER",
            "SECRETARY",
            "DISCIPLINARIAN",
            "ADMIN"
          ]
        },
        "isActive": {
          "type": "boolean",
          "description": "Indicates if the user account is active.",
          "default": true
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the user was created."
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of the last user update."
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "username",
        "email",
        "role",
        "isActive",
        "createdAt",
        "updatedAt"
      ]
    },
    "Announcement": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Announcement",
      "type": "object",
      "description": "Represents an announcement sent to choir members.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Announcement entity."
        },
        "title": {
          "type": "string",
          "description": "Title of the announcement."
        },
        "message": {
          "type": "string",
          "description": "Content of the announcement."
        },
        "createdBy": {
          "type": "string",
          "description": "User ID of the creator (Secretary/Admin)."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp indicating when the announcement was created.",
          "format": "date-time"
        },
        "priority": {
          "type": "string",
          "enum": [
            "High",
            "Normal",
            "Low"
          ],
          "description": "Priority level of the announcement."
        },
        "attachment": {
          "type": "string",
          "format": "uri",
          "description": "Optional URL for an attachment."
        }
      },
      "required": [
        "id",
        "title",
        "message",
        "createdBy",
        "createdAt"
      ]
    },
    "Notification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Notification",
      "type": "object",
      "description": "Represents a notification for a user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Notification."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user who will receive the notification."
        },
        "title": {
          "type": "string",
          "description": "The title of the notification."
        },
        "message": {
          "type": "string",
          "description": "The content of the notification."
        },
        "senderRole": {
          "type": "string",
          "description": "The role of the user who triggered the notification."
        },
        "isRead": {
          "type": "boolean",
          "description": "Whether the notification has been read.",
          "default": false
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the notification was created."
        }
      },
      "required": [
        "id",
        "userId",
        "title",
        "message",
        "isRead",
        "createdAt"
      ]
    },
    "Rehearsal": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Rehearsal",
      "type": "object",
      "description": "Represents a scheduled rehearsal.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Rehearsal entity."
        },
        "date": {
          "type": "string",
          "description": "Date of the rehearsal.",
          "format": "date-time"
        },
        "time": {
          "type": "string",
          "description": "Time of the rehearsal."
        },
        "location": {
          "type": "string",
          "description": "Location of the rehearsal."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes for the rehearsal."
        },
        "createdBy": {
          "type": "string",
          "description": "User ID of the creator."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp of when the schedule was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "date",
        "time",
        "location",
        "createdBy",
        "createdAt"
      ]
    },
    "Service": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Service",
      "type": "object",
      "description": "Represents a scheduled service.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Service entity."
        },
        "date": {
          "type": "string",
          "description": "Date of the service.",
          "format": "date-time"
        },
        "churchLocation": {
          "type": "string",
          "description": "Location of the service."
        },
        "attire": {
          "type": "string",
          "description": "Attire required for the service."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes for the service."
        },
        "createdBy": {
          "type": "string",
          "description": "User ID of the creator."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp of when the schedule was created.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "date",
        "churchLocation",
        "attire",
        "createdBy",
        "createdAt"
      ]
    },
    "Attendance": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Attendance",
      "type": "object",
      "description": "Represents an attendance record for a user at a specific event.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Attendance entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User whose attendance is being recorded."
        },
        "eventType": {
          "type": "string",
          "description": "Type of the Event (Rehearsal/Service).",
          "enum": [
            "Rehearsal",
            "Service"
          ]
        },
        "eventId": {
          "type": "string",
          "description": "Reference to the specific Rehearsal or Service."
        },
        "status": {
          "type": "string",
          "description": "Attendance status.",
          "enum": [
            "Present",
            "Absent",
            "Late"
          ]
        },
        "markedBy": {
          "type": "string",
          "description": "User ID of the person who marked attendance (Disciplinarian)."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp of when the attendance was recorded.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "eventType",
        "eventId",
        "status",
        "markedBy",
        "createdAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "email"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores user profiles, including role information.",
          "params": [
            {
              "name": "userId",
              "description": "Unique identifier for the user."
            }
          ]
        }
      },
      {
        "path": "/announcements/{announcementId}",
        "definition": {
          "entityName": "Announcement",
          "schema": {
            "$ref": "#/backend/entities/Announcement"
          },
          "description": "Stores announcements for the choir.",
          "params": [
            {
              "name": "announcementId",
              "description": "Unique identifier for the announcement."
            }
          ]
        }
      },
      {
        "path": "/notifications/{notificationId}",
        "definition": {
          "entityName": "Notification",
          "schema": {
            "$ref": "#/backend/entities/Notification"
          },
          "description": "Stores notifications for individual users.",
          "params": [
            {
              "name": "notificationId",
              "description": "Unique identifier for the notification."
            }
          ]
        }
      },
      {
        "path": "/rehearsals/{rehearsalId}",
        "definition": {
          "entityName": "Rehearsal",
          "schema": {
            "$ref": "#/backend/entities/Rehearsal"
          },
          "description": "Stores rehearsal schedules.",
          "params": [
            {
              "name": "rehearsalId",
              "description": "Unique identifier for the rehearsal."
            }
          ]
        }
      },
      {
        "path": "/services/{serviceId}",
        "definition": {
          "entityName": "Service",
          "schema": {
            "$ref": "#/backend/entities/Service"
          },
          "description": "Stores service schedules.",
          "params": [
            {
              "name": "serviceId",
              "description": "Unique identifier for the service."
            }
          ]
        }
      },
      {
        "path": "/attendance/{attendanceId}",
        "definition": {
          "entityName": "Attendance",
          "schema": {
            "$ref": "#/backend/entities/Attendance"
          },
          "description": "Stores attendance records for events.",
          "params": [
            {
              "name": "attendanceId",
              "description": "Unique identifier for the attendance record."
            }
          ]
        }
      }
    ]
  }
}
